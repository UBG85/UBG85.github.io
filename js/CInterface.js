function CInterface(e,t,n,i){var s,o,l,r,a,u,h,c,_,f,d,E,S,w=n,g=null,x=null;this._init=function(e){var t=s_oSpriteLibrary.getSprite("but_exit");if(l={x:CANVAS_WIDTH-t.height/2-10,y:t.height/2+10},(r=new CGfxButton(l.x,l.y,t,w)).addEventListener(ON_MOUSE_UP,this._onExit,this),!1===DISABLE_SOUND_MOBILE||!1===s_bMobile){t=s_oSpriteLibrary.getSprite("audio_icon");s={x:l.x-t.width/2-10,y:l.y},(u=new CToggle(s.x,s.y,t,s_bAudioActive,w)).addEventListener(ON_MOUSE_UP,this._onAudioToggle,this),t=s_oSpriteLibrary.getSprite("but_fullscreen"),o={x:s.x-t.width/2-10,y:s.y}}else t=s_oSpriteLibrary.getSprite("but_fullscreen"),o={x:l.x-t.width/2-10,y:l.y};var n=window.document,m=n.documentElement;g=m.requestFullscreen||m.mozRequestFullScreen||m.webkitRequestFullScreen||m.msRequestFullscreen,x=n.exitFullscreen||n.mozCancelFullScreen||n.webkitExitFullscreen||n.msExitFullscreen,!1===ENABLE_FULLSCREEN&&(g=!1),g&&screenfull.enabled&&(a=new CToggle(o.x,o.y,t,!1,w)).addEventListener(ON_MOUSE_UP,this._onFullscreenRelease,this),h=new CScoreBoard(e,{x:140,y:4},w),c=new CHelpText(w),(_=new CHelpText(s_oStage)).setColor("#1c39ab","#fed718"),_.setPos(CANVAS_WIDTH/2,CANVAS_HEIGHT/2+30),_.setSize(52),S=new CWaitingPanel(w),d=new CVersusPanel(w),f=new CFinalPanel(e,i),(E=new CAreYouSurePanel(s_oStage)).addEventListener(ON_BUT_YES_DOWN,this._onConfirmExit,this),this.refreshButtonPos()},this.refreshButtonPos=function(){r.setPosition(l.x-s_iOffsetX,l.y+s_iOffsetY),!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||u.setPosition(s.x-s_iOffsetX,s_iOffsetY+s.y),g&&screenfull.enabled&&a.setPosition(o.x-s_iOffsetX,o.y+s_iOffsetY),h.refreshButtonPos(),s_bMultiplayer&&s_oGame&&s_oGame.refreshPos()},this.unload=function(){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||(u.unload(),u=null),g&&screenfull.enabled&&(a.unload(),a=null),r.unload(),r=null,f.unload(),E.unload(),h.unload(),s_oInterface=null},this.reset=function(e,t){h.reset(e),S.hide()},this.setFinalPanel=function(){f.addEventListener(ON_BACK_MENU,s_oGame.onExit,s_oGame),f.addEventListener(ON_NEXT,s_oGame.nextRound,s_oGame),f.addEventListener(ON_RESTART,s_oGame.retryLevel,s_oGame)},this.setFinalPanelMultiplayer=function(){f.addEventListener(ON_BACK_MENU,s_oGame.onExit,s_oGame),f.addEventListener(ON_RESTART,s_oGame.onConfirmRematch,s_oGame)},this.hideFinalPanelScore=function(){f.hideLevelScore()},this.changeFinalMessage=function(e){f.changeMessage(e)},this.hideFinalButtons=function(){f.hideButtons()},this.showFinalButtons=function(){f.showButtons()},this.hideFinalPanel=function(){f.hide()},this.centerFinalHomeButton=function(){f.centerHomeButton()},this.showVsPanel=function(e,t){d.show(e,t)},this.onExitVersusPanel=function(){s_bMultiplayer&&s_oGame.onBeginShot()},this.resetFullscreenBut=function(){g&&screenfull.enabled&&a.setActive(s_bFullscreen)},this._onFullscreenRelease=function(){s_bFullscreen?x.call(window.document):g.call(window.document.documentElement),sizeHandler()},this.refreshScoreBoard=function(e,t,n){h.setScore(t,n)},this.setPlayersInfo=function(e,t){h.setPlayersName(e,t)},this.setExtraScore=function(){h.setExtraScore()},this.refreshKicks=function(e,t){var n=t[t.length-1];e===PLAYER?h.refreshPlayerKicks(n):h.refreshOpponentKicks(n)},this.setBonusGoal=function(e){h.setBonusGoal(e)},this.showHelpText=function(e){c.show(e)},this.showMatchPointText=function(e){_.show(e)},this.showGoalkeeperWaiting=function(){S.showGoalkeeperWaiting()},this.hideGoalkeeperWaiting=function(){S.hideGoalkeeperWaiting()},this.showStrikerWaiting=function(){S.showStrikerWaiting()},this.hideStrikerWaiting=function(){S.hideStrikerWaiting()},this.hideHelpText=function(){c.hide()},this.hideMatchPointText=function(){_.hide()},this.showFinalPanel=function(e,t,n,i,s){f.show(e,t,n,i,s)},this.showLeaveMsg=function(e){f.showLeaveMsg(e)},this.showAgainMsg=function(e){f.showAgainMsg(e)},this.showFinalRestartBut=function(e){f.showRestart(e)},this.isHelpTextVisible=function(){return c.visible},this._onAudioToggle=function(){Howler.mute(s_bAudioActive),s_bAudioActive=!s_bAudioActive},this._onExit=function(){E.show(TEXT_ARE_SURE)},this._onConfirmExit=function(){s_oGame.onExit()},s_oInterface=this,this._init(e)}var s_oInterface=null;